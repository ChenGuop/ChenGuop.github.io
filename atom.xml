<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ChanRoc</title>
  <subtitle>Roc</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.chanroc.top/"/>
  <updated>2016-11-01T01:20:20.770Z</updated>
  <id>http://blog.chanroc.top/</id>
  
  <author>
    <name>Chen Roc</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hello World</title>
    <link href="http://blog.chanroc.top/2016/11/01/hello-world/"/>
    <id>http://blog.chanroc.top/2016/11/01/hello-world/</id>
    <published>2016-11-01T01:20:20.767Z</published>
    <updated>2016-11-01T01:20:20.770Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>拍卖会的故事</title>
    <link href="http://blog.chanroc.top/2016/08/06/%E6%8B%8D%E5%8D%96%E4%BC%9A%E7%9A%84%E6%95%85%E4%BA%8B/"/>
    <id>http://blog.chanroc.top/2016/08/06/拍卖会的故事/</id>
    <published>2016-08-06T05:45:00.000Z</published>
    <updated>2016-11-02T03:28:27.181Z</updated>
    
    <content type="html"><![CDATA[<h1 id="拍卖会的故事"><a href="#拍卖会的故事" class="headerlink" title="拍卖会的故事"></a>拍卖会的故事</h1><p><strong>【战神】快银皮特罗（田小强）(707643987) 2016/8/6 9:57:14</strong></p>
<blockquote>
<p>下面要拍卖的是一位道友在上古遗存下来的仙殿中寻到的一盒炫迈……”,大厅中顿时一片嘈杂拍卖行的老者摆了摆手示意让大家静一静道“炫迈的神奇功效想必诸位都知道吧,如果棋逢敌手,就要看谁更持久,这时候吃上一小片炫迈,估计敌手会立马绝望的打滚认输,这等神物也不是一般晶石能衡量的谁若有同等价格的宝物也能用来交换”“现在拍卖开始!底价一万极品仙晶”“我出三万极品仙晶!”“我出十万极品仙晶!”“我出一罐正宗加多宝!”……………………众人一阵沉默,加多宝,那可是价值百万极品仙晶啊!“我出一包辣条!”正当众人无力叹息时,拍卖厅二楼传来霸道的一道声音!什么!!!众人闻言皆露出不可思议的神色,辣条是什么？那可是天地未开混沌中孕育而成的绝世神物,一些传承万载的无上道统也未必能拿出一条,更徨论是一包,所有人都望向声音所发之处只见那里端坐着一个男子二十出头的样子,令人震惊的是他所穿的道袍上的标志.“竟然是神秘而又强大的蓝翔学院!而且还是当中最可怕的挖掘机系!”蓝翔学院,人们听到这名字第一时间联想到就是强大!据传当年一个大教惹了一个蓝翔挖掘机系的学生,然后被那人祭出挖掘机一路碾压而过,山门破碎,护山大阵如同水豆腐一般</p>
</blockquote>
<p><strong>【战神】钢铁侠斯塔克(2240369336) 2016/8/6 10:43:02</strong></p>
<blockquote>
<p>然后被那人祭出挖掘机一路碾压而过，山门破碎，护山大阵如同水豆腐般不堪一击，整教所有人皆被镇杀！要知道当中还有渡劫期的人物！蓝翔挖掘机有多可怕可想而知！难怪此子能够拿出一包辣条，竟是出自蓝翔学院！“两包”？只听二楼另一个包间传来一声淡淡轻呼？“什么？竟然有人敢和蓝翔学院叫板，而且还能拿出两包辣条！这是何等人物”大家议论纷纷？只见一个20出头的年轻人，身上的白衣无风自动，胸口一个耀眼的徽章——新东方！</p>
</blockquote>
<p><strong>【匿名】谢霆锋 2016/8/6 10:07:24</strong></p>
<blockquote>
<p>牛逼</p>
</blockquote>
<p><strong>【匿名】谢霆锋 2016/8/6 10:07:34</strong></p>
<blockquote>
<p>666666</p>
</blockquote>
<p><strong>【匿名】林正英 2016/8/6 10:41:13</strong></p>
<blockquote>
<p>/zan</p>
</blockquote>
<p><strong>【匿名】林正英 2016/8/6 10:41:32</strong></p>
<blockquote>
<p>还能往下接吗 求人才</p>
</blockquote>
<p><strong>【战神】钢铁侠斯塔克(2240369336) 2016/8/6 10:43:02</strong></p>
<blockquote>
<p>然后被那人祭出挖掘机一路碾压而过，山门破碎，护山大阵如同水豆腐般不堪一击，整教所有人皆被镇杀！要知道当中还有渡劫期的人物！蓝翔挖掘机有多可怕可想而知！难怪此子能够拿出一包辣条，竟是出自蓝翔学院！“两包”？只听二楼另一个包间传来一声淡淡轻呼？“什么？竟然有人敢和蓝翔学院叫板，而且还能拿出两包辣条！这是何等人物”大家议论纷纷？只见一个20出头的年轻人，身上的白衣无风自动，胸口一个耀眼的徽章——新东方！</p>
</blockquote>
<p><strong>【匿名】赵雅芝  10:44:27</strong></p>
<blockquote>
<p>求看续集</p>
</blockquote>
<p><strong>【匿名】刘德华  10:44:59</strong></p>
<blockquote>
<p>坐等更新</p>
</blockquote>
<p><strong>【匿名】卓依婷  10:45:03</strong><br><img src="https://raw.githubusercontent.com/ChenGuop/JPA2.0_learn/master/img/4_FQS3__EZCH4V%28%7B4W82UAG.jpg" alt="enter image description here"><br><strong>【匿名】张智霖  10:45:28</strong><br><img src="https://raw.githubusercontent.com/ChenGuop/JPA2.0_learn/master/img/~FNW%5BEDN7N4X$7%7BAKZL%7DE93.jpg" alt="enter image description here"></p>
<p><strong>【匿名】张智霖  10:45:28</strong></p>
<blockquote>
<p>“难怪他能拿出两包辣条，原来是新东方学院，虽然新东方学院不如蓝翔学院战斗力强，但论辣条的存量，十个蓝翔也不一定比得过新东方，毕竟新东方的学生差不多个个都是制作辣条的高手” 一个是力量为尊的蓝翔，一个是财大气粗的新东方，为了争夺一个茶叶蛋，众人感觉一股新的风暴就要出现了…… </p>
</blockquote>
<p><strong>【匿名】林正英  10:46:11</strong></p>
<blockquote>
<p>不是说好的炫迈吗</p>
</blockquote>
<p><strong>【匿名】周润发  10:46:53</strong></p>
<blockquote>
<p>好厉害 接着说啊</p>
</blockquote>
<p><strong>【战神】钢铁侠斯塔克(2240369336)  10:47:00</strong></p>
<blockquote>
<p>一个是力量为尊的蓝翔，一个是财大气粗的新东方，为了争夺一盒炫迈，众人感觉一股新的风暴就要出现了……　　</p>
</blockquote>
<p><strong>【战神】钢铁侠斯塔克(2240369336)  10:48:11</strong></p>
<blockquote>
<p>就在人们以为宝物是新东方这名高手的时候，忽然从楼上贵宾包厢传出一声柔美空灵的声音：“我出一颗茶叶蛋”，话一落音，拍卖场瞬间沸腾，“茶叶蛋啊！！！传说能生白肉，续白骨，调阴阳的茶叶蛋，这种以西天杯茶、东海南叶、再配带有雄凤血脉蛋，只要身上有此蛋，想死都难”！楼下新东方高手断喝，“哪位朋友敢和我新东方抢东西，不想活了啊”，震得众人心神俱动。</p>
</blockquote>
<p><strong>【匿名】周润发  10:49:07</strong></p>
<blockquote>
<p>下个神物 会不会是大蒜</p>
</blockquote>
<p><strong>【匿名】赵雅芝  10:49:18</strong></p>
<blockquote>
<p>不是  是切糕</p>
</blockquote>
<p><strong>【匿名】周润发  10:49:34</strong></p>
<blockquote>
<p>辣根</p>
</blockquote>
<p><strong>【匿名】庾澄庆  10:49:44</strong></p>
<blockquote>
<p>每一个抖腿的人</p>
</blockquote>
<p><strong>【匿名】庾澄庆  10:49:59</strong></p>
<blockquote>
<p>心中都有一个缝纫机的梦想</p>
</blockquote>
<p><strong>【英雄】斯凯(250668550)  10:51:47</strong></p>
<blockquote>
<p>可以的</p>
</blockquote>
<p><strong>【匿名】赵雅芝  10:53:49</strong></p>
<blockquote>
<p>更新啊</p>
</blockquote>
<p><strong>【战神】钢铁侠斯塔克(2240369336)  10:54:06</strong></p>
<blockquote>
<p>楼下新东方高手断喝，哪位朋友刚和我新东方抢东西，不想活了啊，震得众人心神俱动。而楼上轻飘飘的说，本姑娘来自三际，你想怎样………….楼下瞬间静！！！！”三际！！！！“，楼下男子发出难以置信的低沉叫声，咬着牙，又问道：”可是和祖师爷那个时代齐名的修仙圣地三际？，传闻上古时期，成仙成圣之人众多，就算如今，也不是我们新东方可以抗衡的“话音刚落，拍卖场瞬间沸腾了起来。”天哪，三际？他们可从来都是保持神秘的，今天怎么突然出现了“”估计是有什么大的行动吧“”这片大陆又将不平静了，哎，老夫老矣，这天下归年轻人了“楼下男子，神情失落，”本以为能借此够突破无上境界，没想到竟遇到三际人士，不行！，这一定是我的，叫我师哥过来，一起收了她“旁边人唯唯诺诺的离开了。就在众人以为事情已定时，突然一个角落传来微微查查的声音：”你们这么把东西做决定是不是太早了，哈哈，贫道也来出一瓶老干妈“”哪方高人，请速速现身“下方男子惊异道。”</p>
</blockquote>
<p>【战神】钢铁侠斯塔克(2240369336)  10:56:31</p>
<blockquote>
<p>请速速现身“下方男子惊异道。”什么！这可是传说中也难得一见的老干妈？一出手居然还是一整瓶。“不过更多的人却很迷茫，似乎没听说过这件物品。这时，拍卖师解释了开来：“相比大家都没听说过这件物品，不过在老夫年幼时曾意外从祖父哪里得来一张残页，上面依稀记载了数万年前，风靡一时，高官显要都不能享用的绝世宝物-老干妈，每一口，每一次，都能享受到时间难得的鲜美，是开天以来，绝世神人用混沌物质所凝聚的一种神级宝物，堪比神迹般稀有，是于封神榜，万年莲子心同等级的存在。”嘶嘶嘶“场下传来一片倒吸凉气的声音。‘’这样就够了么？‘’这时大厅角落突然传出一声突兀的声音。说话的是一位少年，一位毫不起眼的少年，从他进入大厅就没说过一句话。‘’少侠莫非还有比这更逆天的宝贝？‘’拍卖行老者眼睛一咪。‘’你们看这是什么？‘’少年缓缓说到，随即从怀里摸出一物。这是拳头大一小块物品，似金非金，似木非木，发出阵阵异香，大厅里所有人闻见此香味之人，仿佛徘徊自己几百年的瓶颈似有松动，有的人甚至立即找地方闭关突破。‘’嘶……这莫非就是那传说中的切糕。‘’<br><strong>【匿名】谢霆锋  10:57:41</strong><br>120</p>
</blockquote>
<hr>
<p><strong>钢铁侠斯塔克撤回了一条消息</strong></p>
<p><strong>【匿名】钟汉良  11:04:58</strong></p>
<blockquote>
<p>、、、、、</p>
</blockquote>
<p><strong>【战神】钢铁侠斯塔克(2240369336)  11:06:54</strong></p>
<blockquote>
<p>“嘶……这莫非就是那传说中的切糕。”大厅里极个别老怪物以认出此物。此物传说极为逆天，随身携带指甲盖大小一块此物，不但练功效果倍增，尤其厉害的是无论遇到任何练功瓶颈，只需一小块便轻松度过，且毫无负作用。这时以有人认出此少年。“那少年莫非就是撸而哈吃的依钵传人撸而猛吃？”哦……卖糕的……大厅里发出一阵阵惊呼。“一杯香飘飘！”一只玉手抬起。众人皆震惊了。香飘飘，那可是在一段时间风靡三界，据说可绕地球两圈，是飞仙必备神器，但后来因为灵上道人和魔无道人为了飞仙，香飘飘被二人抢走，全界寥寥无几。这到底是何方神圣，竟能拿出一杯！众人望去。那是一个女子，袖口一抹红色。“财务部！！”众人用崇拜的眼神望向那女子。财务部，那可是财富最多的地方。用一杯香飘飘来换炫迈，真是财大气粗。“我想起来了。当年财务部被魔无道人看上，赠上了十杯香飘飘。”一人尖叫起来。“什么？！”众人皆倒吸一口凉气。</p>
</blockquote>
<p>此故事纯属虚构，如有雷同纯属巧合。<br>发生在一个无聊的办公司里面的故事。qq群记载,雷神thor整理[2016-08-06]。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;拍卖会的故事&quot;&gt;&lt;a href=&quot;#拍卖会的故事&quot; class=&quot;headerlink&quot; title=&quot;拍卖会的故事&quot;&gt;&lt;/a&gt;拍卖会的故事&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;【战神】快银皮特罗（田小强）(707643987) 2016/8/6 9:57:14&lt;/st
    
    </summary>
    
      <category term="杂谈" scheme="http://blog.chanroc.top/categories/%E6%9D%82%E8%B0%88/"/>
    
    
      <category term="办公室" scheme="http://blog.chanroc.top/tags/%E5%8A%9E%E5%85%AC%E5%AE%A4/"/>
    
      <category term="神话" scheme="http://blog.chanroc.top/tags/%E7%A5%9E%E8%AF%9D/"/>
    
  </entry>
  
  <entry>
    <title>关于Spring MVC POST请求 @RequestBody</title>
    <link href="http://blog.chanroc.top/2016/02/28/%E5%85%B3%E4%BA%8ESpring%20MVC%20POST%E8%AF%B7%E6%B1%82%20@RequestBody/"/>
    <id>http://blog.chanroc.top/2016/02/28/关于Spring MVC POST请求 @RequestBody/</id>
    <published>2016-02-28T09:58:27.000Z</published>
    <updated>2016-11-01T06:36:24.662Z</updated>
    
    <content type="html"><![CDATA[<h1 id="关于Spring-MVC-POST请求-RequestBody"><a href="#关于Spring-MVC-POST请求-RequestBody" class="headerlink" title="关于Spring MVC POST请求 @RequestBody"></a>关于Spring MVC POST请求 @RequestBody</h1><p>在使用Spring MVC 时Ajax发送post请求：<br>本来是要接受一个实体类，但是数据结构比较复杂；自己搞了快一天才弄明白<br><strong>重点：</strong> 在js中json格式要转换成字符串的json格式接受才行 <code>jsonStr = JSON.stringify(jsonStr);</code></p>
<blockquote>
<p>实体类<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Id</span></div><div class="line"><span class="meta">@GenericGenerator</span>(name = <span class="string">"idgen"</span>, strategy = <span class="string">"increment"</span>)</div><div class="line"><span class="meta">@GeneratedValue</span>(generator = <span class="string">"idgen"</span>)</div><div class="line"><span class="keyword">private</span> Long achieveId; <span class="comment">// 主键</span></div><div class="line"><span class="meta">@OneToOne</span></div><div class="line"><span class="meta">@JoinColumn</span>(name = <span class="string">"MACHINE_TYPE"</span>, updatable = <span class="keyword">false</span>, insertable = <span class="keyword">false</span>)</div><div class="line"><span class="keyword">private</span> MachineType machineType; <span class="comment">// 机型类别</span></div><div class="line"><span class="meta">@Column</span>(name = <span class="string">"MACHINE_TYPE"</span>)</div><div class="line"><span class="keyword">private</span> String machineTypeId; <span class="comment">// 机型类别</span></div><div class="line"><span class="meta">@OneToOne</span></div><div class="line"><span class="meta">@JoinColumn</span>(name = <span class="string">"BRAND_ID"</span>, updatable = <span class="keyword">false</span>, insertable = <span class="keyword">false</span>)</div><div class="line"><span class="keyword">private</span> Brand brand; <span class="comment">// 品牌ID</span></div><div class="line"><span class="meta">@Column</span>(name = <span class="string">"BRAND_ID"</span>)</div><div class="line"><span class="keyword">private</span> String brandId; <span class="comment">// 品牌ID</span></div><div class="line"><span class="meta">@OneToOne</span></div><div class="line"><span class="meta">@JoinColumn</span>(name = <span class="string">"GOOD_ID"</span>, updatable = <span class="keyword">false</span>, insertable = <span class="keyword">false</span>)</div><div class="line"><span class="keyword">private</span> Goods good; <span class="comment">// 型号ID</span></div><div class="line"><span class="meta">@Column</span>(name = <span class="string">"GOOD_ID"</span>)</div><div class="line"><span class="keyword">private</span> String goodId; <span class="comment">// 型号ID</span></div><div class="line"><span class="keyword">private</span> Integer numberFirst; <span class="comment">// 任务量一</span></div><div class="line"><span class="keyword">private</span> Integer numberSecond; <span class="comment">// 任务量2</span></div><div class="line"><span class="keyword">private</span> Integer numberThird; <span class="comment">// 任务量3</span></div><div class="line"><span class="keyword">private</span> Date startDate; <span class="comment">// 开始日期</span></div><div class="line"><span class="keyword">private</span> Date endDate; <span class="comment">// 结束日期</span></div><div class="line"><span class="keyword">private</span> Date issuingDate; <span class="comment">// 提成发放日期</span></div><div class="line"><span class="keyword">private</span> String auditor; <span class="comment">// 审核人</span></div><div class="line"><span class="keyword">private</span> String remark; <span class="comment">// 备注</span></div><div class="line"><span class="keyword">private</span> Date createDate; <span class="comment">// 创建日期</span></div><div class="line"><span class="meta">@Enumerated</span>(EnumType.STRING)</div><div class="line"><span class="keyword">private</span> FlagEnum flag = FlagEnum.NORMAL; <span class="comment">// 是否删除：normal-正常，del-删除</span></div><div class="line"><span class="meta">@Enumerated</span>(EnumType.STRING)</div><div class="line"><span class="keyword">private</span> AchieveStatusEnum status = AchieveStatusEnum.WAIT; <span class="comment">// 审核状态：BACK-驳回，WAIT-待审核，OVER-已审核</span></div><div class="line"><span class="keyword">private</span> String planId;</div><div class="line"></div><div class="line"><span class="meta">@OneToMany</span>(cascade=CascadeType.ALL)</div><div class="line"><span class="meta">@JoinTable</span>(name=<span class="string">"SYS_ACHIEVE_SET_RULE"</span>,</div><div class="line">   joinColumns=<span class="meta">@JoinColumn</span>(name=<span class="string">"SYS_ACHIEVE_ID"</span>),</div><div class="line">   inverseJoinColumns=<span class="meta">@JoinColumn</span>(name=<span class="string">"RULE_ID"</span>))</div><div class="line"><span class="keyword">private</span> List&lt;RewardPunishRule&gt; rewardPunishRules;<span class="comment">//奖罚规则</span></div><div class="line"></div><div class="line"><span class="meta">@OneToMany</span>(cascade=CascadeType.ALL)</div><div class="line"><span class="meta">@JoinTable</span>(name=<span class="string">"SYS_ACHIEVE_SET_GROUP"</span>,</div><div class="line">    joinColumns=<span class="meta">@JoinColumn</span>(name=<span class="string">"SYS_ACHIEVE_ID"</span>),</div><div class="line">    inverseJoinColumns=<span class="meta">@JoinColumn</span>(name=<span class="string">"GROUPING_ID"</span>))</div><div class="line"><span class="keyword">private</span> List&lt;GroupNumber&gt; groupNumbers; <span class="comment">//人员分组设置</span></div></pre></td></tr></table></figure></p>
<p>controller<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">""</span>, method = RequestMethod.POST)</div><div class="line"><span class="meta">@ResponseBody</span></div><div class="line"><span class="function"><span class="keyword">public</span> String <span class="title">addAchieve</span><span class="params">(@RequestBody Achieve achieve)</span> </span>&#123;</div><div class="line">  String result = <span class="string">""</span>;</div><div class="line">  System.out.println(achieve);</div><div class="line"></div><div class="line">  <span class="keyword">return</span> result;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>js-Ajax</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">toSubmit</span>(<span class="params"></span>) </span>&#123;</div><div class="line"><span class="comment">//	var jsonStr = $("#achieveForm").serialize();</span></div><div class="line"><span class="comment">//拼凑数据格式</span></div><div class="line">	<span class="keyword">var</span> jsonStr = &#123;</div><div class="line">		<span class="string">'planId'</span>: $(<span class="string">"#achieveForm input[name='planId']"</span>).val(),</div><div class="line">		<span class="string">'machineTypeId'</span> : $(<span class="string">"#achieveForm input[name='machineType']"</span>).val(),</div><div class="line">		<span class="string">'brandId'</span> : $(<span class="string">"#achieveForm .J_brand"</span>).val(),</div><div class="line">		<span class="string">'goodId'</span> : $(<span class="string">"#goodList"</span>).val()</div><div class="line">	&#125;;</div><div class="line"><span class="comment">//============需要转换成字符串的json格式传递参数==============================</span></div><div class="line">	jsonStr = <span class="built_in">JSON</span>.stringify(jsonStr);</div><div class="line"><span class="comment">//=================================</span></div><div class="line"><span class="comment">//	console.log("jsonStr:\r\n" + JSON.stringify(jsonStr));</span></div><div class="line">	<span class="comment">// alert(jsonStr);</span></div><div class="line">	$.ajax(&#123;</div><div class="line">		<span class="attr">url</span> : <span class="string">"/achieve"</span>,</div><div class="line">		<span class="attr">type</span> : <span class="string">"POST"</span>,</div><div class="line">		<span class="attr">contentType</span> : <span class="string">'application/json;charset=utf-8'</span>, <span class="comment">// 设置请求头信息</span></div><div class="line">		dataType : <span class="string">"json"</span>,</div><div class="line">		<span class="attr">data</span> : jsonStr,</div><div class="line">		<span class="attr">success</span> : <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">			alert(data);</div><div class="line">		&#125;,</div><div class="line">		<span class="attr">error</span> : <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</div><div class="line">			alert(res.responseText);</div><div class="line">		&#125;</div><div class="line">	&#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="经过"><a href="#经过" class="headerlink" title="经过"></a>经过</h2><blockquote>
<p>js 缺少一下代码<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//============需要转换成字符串的json格式传递参数==============================</span></div><div class="line">	jsonStr = <span class="built_in">JSON</span>.stringify(jsonStr);</div><div class="line"><span class="comment">//=================================</span></div></pre></td></tr></table></figure></p>
</blockquote>
<ul>
<li><p>使用map接受数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">""</span>, method = RequestMethod.POST)</div><div class="line"><span class="meta">@ResponseBody</span></div><div class="line"><span class="function"><span class="keyword">public</span> String <span class="title">addAchieve</span><span class="params">(@RequestBody Map&lt;String, Object&gt; achieve)</span> </span>&#123;</div><div class="line">  String result = <span class="string">""</span>;</div><div class="line">  System.out.println(achieve);</div><div class="line"></div><div class="line">  <span class="keyword">return</span> result;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>使用JSONObject接受数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@RequestMapping</span>(value = <span class="string">""</span>, method = RequestMethod.POST)</div><div class="line"><span class="meta">@ResponseBody</span></div><div class="line"><span class="function"><span class="keyword">public</span> String <span class="title">addAchieve</span><span class="params">(@RequestBody JSONObject achieve)</span> </span>&#123;</div><div class="line">  String result = <span class="string">""</span>;</div><div class="line">  System.out.println(achieve);</div><div class="line"></div><div class="line">  <span class="keyword">return</span> result;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>异常信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[http-nio-8080-exec-9] o.s.w.s.m.s.DefaultHandlerExceptionResolver - Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableException: Could not read document: Unrecognized token &apos;planId&apos;: was expecting (&apos;true&apos;, &apos;false&apos; or &apos;null&apos;)</div></pre></td></tr></table></figure>
</li>
<li><p>从chrome 的Postman 发送是可以的我就觉得我的数据格式有问题</p>
</li>
</ul>
<p>决绝办法是就是使用<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">jsonStr = <span class="built_in">JSON</span>.stringify(jsonStr);</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;关于Spring-MVC-POST请求-RequestBody&quot;&gt;&lt;a href=&quot;#关于Spring-MVC-POST请求-RequestBody&quot; class=&quot;headerlink&quot; title=&quot;关于Spring MVC POST请求 @RequestBo
    
    </summary>
    
      <category term="Java" scheme="http://blog.chanroc.top/categories/Java/"/>
    
      <category term="JavaScript" scheme="http://blog.chanroc.top/categories/Java/JavaScript/"/>
    
    
      <category term="Spring MVC" scheme="http://blog.chanroc.top/tags/Spring-MVC/"/>
    
      <category term="POST请求" scheme="http://blog.chanroc.top/tags/POST%E8%AF%B7%E6%B1%82/"/>
    
      <category term="AJAX" scheme="http://blog.chanroc.top/tags/AJAX/"/>
    
  </entry>
  
  <entry>
    <title>项目中遇到的技术问题</title>
    <link href="http://blog.chanroc.top/2016/02/28/%E9%A1%B9%E7%9B%AE%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E6%8A%80%E6%9C%AF%E9%97%AE%E9%A2%98/"/>
    <id>http://blog.chanroc.top/2016/02/28/项目中遇到的技术问题/</id>
    <published>2016-02-28T09:58:27.000Z</published>
    <updated>2016-11-01T08:09:03.573Z</updated>
    
    <content type="html"><![CDATA[<h2 id="json序列化问题-2016-10-10"><a href="#json序列化问题-2016-10-10" class="headerlink" title="json序列化问题 (2016.10.10)"></a>json序列化问题 (2016.10.10)</h2><blockquote>
<p>entity 实体<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@OneToOne</span></div><div class="line">	<span class="meta">@JoinColumn</span>(name = <span class="string">"USER_ID"</span>, updatable = <span class="keyword">false</span>, insertable = <span class="keyword">false</span>)</div><div class="line">	<span class="keyword">private</span> PlanUserVo userVo;</div></pre></td></tr></table></figure></p>
</blockquote>
<ul>
<li><p>question：<code>Could not write content: No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) )</code></p>
</li>
<li><p>answer:</p>
</li>
<li>1、@JsonIgnoreProperties({“hibernateLazyInitializer”, “handler”})</li>
<li>2、在配置文件中加 <code>spring.jackson.serialization.fail-on-empty-beans=false</code>ls</li>
<li>3、修改关联方式为fetch. EAGER(good solution I mean not just change fetch type to EAGER)</li>
</ul>
<h2 id="NamedEntityGraph-使用（2016-10-20）"><a href="#NamedEntityGraph-使用（2016-10-20）" class="headerlink" title="@NamedEntityGraph 使用（2016.10.20）"></a>@NamedEntityGraph 使用（2016.10.20）</h2><p>问题：当三个attributeNodes出现时候，出现异常，<code>cannot simultaneously fetch multiple bags</code>意思就是不能同时获取多个包</p>
<p>解决方法<br>将这个List改为Set接收数据就OK了<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@OrderBy</span>(value = <span class="string">"id ASC "</span>)</div><div class="line">	<span class="meta">@OneToMany</span>(cascade = CascadeType.ALL, orphanRemoval = <span class="keyword">true</span>)</div><div class="line">	<span class="meta">@JoinTable</span>(name = <span class="string">"SYS_AWARD_SET_RULE"</span>,</div><div class="line">					joinColumns = <span class="meta">@JoinColumn</span>(name = <span class="string">"SYS_AWARD_ID"</span>),</div><div class="line">					inverseJoinColumns = <span class="meta">@JoinColumn</span>(name = <span class="string">"RULE_ID"</span>))</div><div class="line">	<span class="keyword">private</span> Set&lt;RewardPunishRule&gt; rewardPunishRules;<span class="comment">//奖罚规则</span></div><div class="line"></div><div class="line">	<span class="meta">@OneToMany</span>(cascade = CascadeType.ALL, orphanRemoval = <span class="keyword">true</span>)</div><div class="line">	<span class="meta">@JoinTable</span>(name = <span class="string">"SYS_AWARD_SET_GROUP"</span>,</div><div class="line">					joinColumns = <span class="meta">@JoinColumn</span>(name = <span class="string">"SYS_AWARD_ID"</span>),</div><div class="line">					inverseJoinColumns = <span class="meta">@JoinColumn</span>(name = <span class="string">"GROUPING_ID"</span>))</div><div class="line">	<span class="keyword">private</span> Set&lt;GroupNumber&gt; groupNumbers; <span class="comment">//人员分组设置</span></div></pre></td></tr></table></figure></p>
<p>alias cnpm=”npm –registry=<a href="https://registry.npm.taobao.org" target="_blank" rel="external">https://registry.npm.taobao.org</a> \<br>–cache=$HOME/.npm/.cache/cnpm \<br>–disturl=<a href="https://npm.taobao.org/dist" target="_blank" rel="external">https://npm.taobao.org/dist</a> \<br>–userconfig=$HOME/.cnpmrc”</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;json序列化问题-2016-10-10&quot;&gt;&lt;a href=&quot;#json序列化问题-2016-10-10&quot; class=&quot;headerlink&quot; title=&quot;json序列化问题 (2016.10.10)&quot;&gt;&lt;/a&gt;json序列化问题 (2016.10.10)&lt;/
    
    </summary>
    
      <category term="Question" scheme="http://blog.chanroc.top/categories/Question/"/>
    
    
      <category term="持续更新" scheme="http://blog.chanroc.top/tags/%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/"/>
    
  </entry>
  
</feed>
